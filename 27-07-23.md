# Exploring the world
- [Search filtering](#search-input)
- Why we need to use state variable instead of normal js variable `useState()`
  - Normal variable gets updated but the UI doesn't update
  - Our component won't get refreshed
  - This is why js variable doesn't work in such cases
  - if we use `useState()` which is a special variable which can be changed using second parameter of the `useState()` which is a function
  - `Normal variable` doesn't get tracked where as `state variable` setA("") is tracked by react and react will trigger the render process
  - _whenever there is change in state variable react re renders the components=> react triggers reconciliation cycle_
  - **The whole component is re-rendered which has updated values using diff-algorithm (react-fiber)**
    ### **Even though it is const it is able to change because it is re-rendering the whole component once again so the const variable is a new variable**
- What is the need of` useEffect()`
  - **Need** - we render in react - load=> render => api => rerender
  - `useEffect()`
  - **useEffect is called after component renders then the callback function is called**
  - **if we need to do something after rendering we write in `useEffect()`**
  - if we console somthing else it prints first then `useEffect`
  - so to make an api call using second method(load-render-api-rerender) we fetch the data using `useEffect()` just after rendering we make api call and then re render
  # Important
- When is useEffect() called
  - everytime the render of the component then useEffect() is called
  - it takes two parameters `callback(mandatory) and dependecny array(not mandatory)`
  - The dependency array changes the behaviour of it's render
  - if no dependency array `useEffect()` is called every render
  - When there is an empty dependency array => [] then `useEffect()` is called `only in the intial render and just once`
  - When something is there in dependency array[btnNameReact] => the `useEffect()` is called only when the dependency array changes , everytime btnNameReact changes
- useState()
  - try to call these hooks at the start of the component to avoid inconsistencies
  - Never use `useState()` outside the component
  - Never use `useState()` inside `if Else conditions, for loops, functions`
  - purpose => to create a local state variable in functional component

## Search input

- we bind the input value to a state variable
- while entering text it doesn't update because it doesn't change
- so we use `onchage` to `set` the value of the variable so that it updates
- **Even when we enter something in the input value it re-renders the whole component**
- **Make both to one case while checking them to avoid case errors**
- Next thing is your Ui gets updated then u need the previous data for the search again
- now we have only few restaurants to search but we need to check in total restaurants so we need to update the list of restaurants
- So make a copy of filtered and store it filterdarray
- use filtered array for showing the data and updating always
- use the original list has all data and this is used for filtering
- from the original array the data is filtered

# number of renders

> react is finding the difference between older and newer virtual dom => re-renders the whole component but updates the difference only

- first renders after loading
- when api call is made then re-renders
- when we click the top rated restaurants then re-renders `state variable changes`
- when we type in input box then re-renders `state variable changes`
